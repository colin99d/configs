# Path to your terminal. Find by going to the terminal and typing 'pwd'
terminal='/Users/colindelahunty/desktop/OpenBBTerminal'

alias chrome="open -a 'Google Chrome'"
# alias python='python3'

function coetry {
    if [ "$1" = "update" ]; then
        poetry export  -o requirements.txt --without-hashes
        poetry export  -o requirements-full.txt --extras prediction --without-hashes --dev
    elif [ "$1" = "revert" ]; then
        git checkout origin/main -- poetry.lock
        git checkout origin/main -- pyproject.toml
        git checkout origin/main -- requirements.txt
        git checkout origin/main -- requirements-full.txt
    else
        echo "Invalid argument, please pass update or revert"
    fi
}

function revert {
    git fetch origin
    git reset --hard origin/main
}

function ggg {
    conda activate obb
    cd "$terminal"
    if [ "$1" = "-r" ]; then
    	python terminal.py
    elif [ "$1" = "-c" ]; then
	vim .
    fi
}

function update {
    git fetch upstream
    git merge upstream/main
}

function iu {
    ssh cdelahun@bigred3.uits.iu.edu
}

function linux {
    ssh main@108.86.128.101
}

function windows {
   ssh "Colin Delahunty"@192.168.1.94
}

function test {
    pytest tests --cov=. --cov-report html
}

function build {
    if [ "$1" = "test" ]; then
        sudo docker-compose -f docker-compose.test.yml up -d --build
    else
        sudo docker-compose up -d --build
    fi
} 

function obb {
    if [ "$1" = "dev" ]; then
        eval "$(cat ~/devopenbb.txt| grep ssh)"
    else
        echo "Invalid option selected"
    fi
}

function kexec {
    kubectl exec --stdin --tty "$1" -- /bin/bash
}

function dexec {
    docker exec -it "$1" /bin/sh
}

function cocreate {
    conda create --name "$1"
}

function codelete {
    conda remove --name "$1" --all
}

function envs {
    export $(grep -v '^#' .env | xargs -0)
}
